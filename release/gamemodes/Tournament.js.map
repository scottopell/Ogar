{"version":3,"sources":["gamemodes/Tournament.ts"],"names":["Tournament","Tournament.constructor","Tournament.startGamePrep","Tournament.startGame","Tournament.endGame","Tournament.endGameTimeout","Tournament.fillBots","Tournament.getSpectate","Tournament.prepare","Tournament.onPlayerDeath","Tournament.formatTime","Tournament.onServerInit","Tournament.onPlayerSpawn","Tournament.onCellRemove","Tournament.updateLB"],"mappings":"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","file":"gamemodes/Tournament.js","sourcesContent":["import Mode from './Mode';\n\nexport default class Tournament extends Mode{\n  prepTime: number;\n  endTime: number;\n  autoFill: boolean;\n  autoFillPlayers: number;\n  dcTime: number;\n  gamePhase: number;\n  contenders: any[];\n  maxContenders: number;\n\n  winner: any;\n  timer: any;\n  timeLimit: number;\n\n  constructor(){\n    super();\n\n    this.ID = 10;\n    this.name = \"Tournament\";\n    this.packetLB = 48;\n\n    // Config (1 tick = 1000 ms)\n    this.prepTime = 5; // Amount of ticks after the server fills up to wait until starting the game\n    this.endTime = 15; // Amount of ticks after someone wins to restart the game\n    this.autoFill = false;\n    this.autoFillPlayers = 1;\n    this.dcTime = 0;\n\n    // Gamemode Specific Variables\n    this.gamePhase = 0; // 0 = Waiting for players, 1 = Prepare to start, 2 = Game in progress, 3 = End\n    this.contenders = [];\n    this.maxContenders = 12;\n\n    this.winner;\n    this.timer;\n    this.timeLimit = 3600; // in seconds\n  }\n\n  // Gamemode Specific Functions\n\n  startGamePrep(gameServer) {\n    this.gamePhase = 1;\n    this.timer = this.prepTime; // 10 seconds\n  }\n\n  startGame(gameServer) {\n    gameServer.run = true;\n    this.gamePhase = 2;\n    this.getSpectate(); // Gets a random person to spectate\n    gameServer.config.playerDisconnectTime = this.dcTime; // Reset config\n  }\n\n  endGame(gameServer) {\n    this.winner = this.contenders[0];\n    this.gamePhase = 3;\n    this.timer = this.endTime; // 30 Seconds\n  }\n\n  endGameTimeout(gameServer) {\n    gameServer.run = false;\n    this.gamePhase = 4;\n    this.timer = this.endTime; // 30 Seconds\n  }\n\n  fillBots(gameServer) {\n    // Fills the server with bots if there arent enough players\n    var fill = this.maxContenders - this.contenders.length;\n    for (var i = 0;i < fill;i++) {\n      gameServer.bots.addBot();\n    }\n  }\n\n  getSpectate() {\n    // Finds a random person to spectate\n    var index = Math.floor(Math.random() * this.contenders.length);\n    this.rankOne = this.contenders[index];\n  }\n\n  prepare(gameServer) {\n    // Remove all cells\n    var len = gameServer.nodes.length;\n    for (var i = 0; i < len; i++) {\n      var node = gameServer.nodes[0];\n\n      if (!node) {\n        continue;\n      }\n\n      gameServer.removeNode(node);\n    }\n\n    gameServer.bots.loadNames();\n\n    // Pauses the server\n    gameServer.run = false;\n    this.gamePhase = 0;\n\n    // Get config values\n    if (gameServer.config.tourneyAutoFill > 0) {\n      this.timer = gameServer.config.tourneyAutoFill;\n      this.autoFill = true;\n      this.autoFillPlayers = gameServer.config.tourneyAutoFillPlayers;\n    }\n    // Handles disconnections\n    this.dcTime = gameServer.config.playerDisconnectTime;\n    gameServer.config.playerDisconnectTime = 0;\n    gameServer.config.minMassDecay = gameServer.config.playerStartMass;\n\n    this.prepTime = gameServer.config.tourneyPrepTime;\n    this.endTime = gameServer.config.tourneyEndTime;\n    this.maxContenders = gameServer.config.tourneyMaxPlayers;\n\n    // Time limit\n    this.timeLimit = gameServer.config.tourneyTimeLimit * 60; // in seconds\n  }\n\n  onPlayerDeath(gameServer) {\n    // Nothing\n  }\n\n  formatTime(time) {\n    if (time < 0) {\n      return \"0:00\";\n    }\n    // Format\n    var min = Math.floor(this.timeLimit / 60);\n    var sec = this.timeLimit % 60;\n    var strSec = (sec > 9) ? sec : \"0\" + sec.toString() ;\n    return min+\":\"+strSec;\n  }\n\n  // Override\n\n  onServerInit(gameServer) {\n    this.prepare(gameServer);\n  }\n\n  onPlayerSpawn(gameServer,player) {\n    // Only spawn players if the game hasnt started yet\n    if ((this.gamePhase == 0) && (this.contenders.length < this.maxContenders)) {\n      player.color = gameServer.getRandomColor(); // Random color\n      this.contenders.push(player); // Add to contenders list\n      gameServer.spawnPlayer(player);\n\n      if (this.contenders.length == this.maxContenders) {\n        // Start the game once there is enough players\n        this.startGamePrep(gameServer);\n      }\n    }\n  }\n\n  onCellRemove(cell) {\n    var owner = cell.owner,\n    human_just_died = false;\n\n    if (owner.cells.length <= 0) {\n      // Remove from contenders list\n      var index = this.contenders.indexOf(owner);\n      if (index != -1) {\n        if ('_socket' in this.contenders[index].socket) {\n          human_just_died = true;\n        }\n        this.contenders.splice(index,1);\n      }\n\n      // Victory conditions\n      var humans = 0;\n      for (var i = 0; i < this.contenders.length; i++) {\n        if ('_socket' in this.contenders[i].socket) {\n          humans++;\n        }\n      }\n\n      // the game is over if:\n      // 1) there is only 1 player left, OR\n      // 2) all the humans are dead, OR\n      // 3) the last-but-one human just died\n      if ((this.contenders.length == 1 || humans == 0 || (humans == 1 && human_just_died)) && this.gamePhase == 2) {\n        this.endGame(cell.owner.gameServer);\n      } else {\n        // Do stuff\n        this.onPlayerDeath(cell.owner.gameServer);\n      }\n    }\n  }\n\n  updateLB(gameServer) {\n    var lb = gameServer.leaderboard;\n\n    switch (this.gamePhase) {\n      case 0:\n        lb[0] = \"Waiting for\";\n        lb[1] = \"players: \";\n        lb[2] = this.contenders.length+\"/\"+this.maxContenders;\n        if (this.autoFill) {\n          if (this.timer <= 0) {\n            this.fillBots(gameServer);\n          } else if (this.contenders.length >= this.autoFillPlayers) {\n            this.timer--;\n          }\n        }\n        break;\n      case 1:\n        lb[0] = \"Game starting in\";\n        lb[1] = this.timer.toString();\n        lb[2] = \"Good luck!\";\n        if (this.timer <= 0) {\n          // Reset the game\n          this.startGame(gameServer);\n        } else {\n          this.timer--;\n        }\n        break;\n      case 2:\n        lb[0] = \"Players Remaining\";\n        lb[1] = this.contenders.length+\"/\"+this.maxContenders;\n        lb[2] = \"Time Limit:\";\n        lb[3] = this.formatTime(this.timeLimit);\n        if (this.timeLimit < 0) {\n          // Timed out\n          this.endGameTimeout(gameServer);\n        } else {\n          this.timeLimit--;\n        }\n        break;\n      case 3:\n        lb[0] = \"Congratulations\";\n        lb[1] = this.winner.getName();\n        lb[2] = \"for winning!\";\n        if (this.timer <= 0) {\n          // Reset the game\n          this.onServerInit(gameServer);\n          // Respawn starting food\n          gameServer.startingFood();\n        } else {\n          lb[3] = \"Game restarting in\";\n          lb[4] = this.timer.toString();\n          this.timer--;\n        }\n        break;\n      case 4:\n        lb[0] = \"Time Limit\"; \n        lb[1] = \"Reached!\";\n        if (this.timer <= 0) {\n          // Reset the game\n          this.onServerInit(gameServer);\n          // Respawn starting food\n          gameServer.startingFood();\n        } else {\n          lb[2] = \"Game restarting in\";\n          lb[3] = this.timer.toString();\n          this.timer--;\n        }\n      default:\n        break;\n    }\n  }\n}\n"],"sourceRoot":"/source/"}